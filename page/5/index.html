<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Glan Wang | CoderGC</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/3.3.1/jquery.min.js"></script><link rel="icon" mask sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Glan Wang</h1><a id="logo" href="/.">Glan Wang</a><p class="description">CoderGC</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title"><a href="/2017/01/12/Mac/Shell之字符串截取/">Shell之字符串截取</a></h1><div class="post-meta">2017-01-12</div><div class="post-content"><p>Linux下写shell脚本，总是避免不了和字符串打交道，shell不想其他高级语言有很多现成的api对字符串进行处理，但是shell下不会字符串的处理，你就放弃shell脚本的编写吧。<br>下边总结一下shell中对字符串的常见用法:<br>假设有变量 var=”<a href="http://www.163.com/123.html&quot;" target="_blank" rel="noopener">http://www.163.com/123.html&quot;</a></p></div><p class="readmore"><a href="/2017/01/12/Mac/Shell之字符串截取/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2016/12/21/Android/https-httpDNS遇到的那些坑/">https+httpDNS遇到的那些坑</a></h1><div class="post-meta">2016-12-21</div><div class="post-content"><p>https和httpDNS的优缺点我就不说了，网上一搜一大把，但是总体来说还是优点大于缺点的，否则也不用非那么大功夫折腾这儿玩意儿了。<br>下边我就主要说一下我们最近引入https+httpDNS遇到的一些坑。</p>
<p>###方案探索:</p>
<p>####1.Request执行前替换域名为ip地址，并设置请求投的host<br>此方案具体实现起来可以自己替换Request，如果使用okhttp也可以直接通过拦截器来处理。<br>这种方案实现起来很简单，没有任何技术性的问题，只需要发送前做一个处理就行。 这种方案单独使用https或者单独使用httpDNS没有任何问题，但是一旦两者结合起来就产生了问题。主要的问题是SNI的问题。<br>SNI（Server Name Indication）是为了解决一个服务器使用多个域名和证书的SSL/TLS扩展。 一句话简述它的工作原理就是，在连接到服务器建立SSL连接之前先发送要访问站点的域名（Hostname）， 这样服务器根据这个域名返回一个合适的证书。<br>由于是通过IP进行访问的，服务如果IP服务器上设置了多个域名多个证书，那么简历ssl连接时服务器不知道你需要哪个证书，所有有可能就会返回的是域名的根证书或者错误的证书，这时候我们客户端或者前端就会发生域名证书不匹配的问题，直接导致了连接失败。<br>SNI的解决方案: ssl连接时通过域名获取证书，已保证获取有效的证书。详细解决方案可以看一下阿里提供的方案:<a href="https://help.aliyun.com/document_detail/36009.html?spm=5176.doc30144.6.585.TruETJ" target="_blank" rel="noopener">单IP多HTTPS域名场景下的解决方案</a></p></div><p class="readmore"><a href="/2016/12/21/Android/https-httpDNS遇到的那些坑/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2016/11/25/Android/Gradle入门教程系列(转)/">Gradle入门教程系列(转)</a></h1><div class="post-meta">2016-11-25</div><div class="post-content"><p>最近再写gradle plugin，但是知识忘的太快了，创建groovy的工程目录结构都已经想不起来，于是只能google，发现一个不错的gradle入门教程，拿来与大家共勉。不废话直接上地址<br><a href="http://www.cnblogs.com/davenkin/p/gradle-learning-1.html" target="_blank" rel="noopener">http://www.cnblogs.com/davenkin/p/gradle-learning-1.html</a></p></div><p class="readmore"><a href="/2016/11/25/Android/Gradle入门教程系列(转)/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2016/11/11/Other/Git常用命令以及常见问题处理/">Git常用命令以及常见问题处理--update</a></h1><div class="post-meta">2016-11-11</div><div class="post-content"><ol>
<li><p>直接clone远程指定分支到本地指定的路径</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone -b 远程分支名 git远程地址 本地存储目录</span><br></pre></td></tr></table></figure></li></ol></div><p class="readmore"><a href="/2016/11/11/Other/Git常用命令以及常见问题处理/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2016/09/21/Mac/time命令执行并统计时间/">time命令执行并统计时间</a></h1><div class="post-meta">2016-09-21</div><div class="post-content"><p>很多时候我们需要统计某个命令执行的时间或者统计某个脚本的执行时间，一般情况下我们有两种方案:a. 修改脚本在脚本执行开始和结束的时候使用date命令记录时间; b. 使用time命令记录脚本执行的时间。</p>
<h3 id="date命令的优缺点"><a href="#date命令的优缺点" class="headerlink" title="date命令的优缺点"></a>date命令的优缺点</h3><p>date命令使用很方便，但是它有一个指名的缺点，date的时间戳是按照秒的级别计算的，而非毫秒级别计算。因此时间要求在毫秒级别的，使用date将会特别麻烦。<br>date命令使用详解: <a href="http://www.cnblogs.com/barrychiao/archive/2012/10/08/2715808.html" target="_blank" rel="noopener">http://www.cnblogs.com/barrychiao/archive/2012/10/08/2715808.html</a></p></div><p class="readmore"><a href="/2016/09/21/Mac/time命令执行并统计时间/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2016/09/13/Android/Glide源码解读/">Glide源码解读</a></h1><div class="post-meta">2016-09-13</div><div class="post-content"><p>一张图带你装逼带你飞。文字表述能力实在太差，无奈又想总结一下glide源码加载图片的流程，于是乎有了下边这张图。<br>读懂这个图，再通过源码进行分析，如果再看不懂Glide，那好，我免费让你睡一晚。<br><code>注意:此图是根据glide v3.7.0源码绘制，看源码时注意切到此分支。</code><br><img src="/2016/09/13/Android/Glide源码解读/glide_source_code.jpg" alt></p></div><p class="readmore"><a href="/2016/09/13/Android/Glide源码解读/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2016/08/31/Other/Git移除某个指定的commit提交/">Git移除某个指定的commit提交</a></h1><div class="post-meta">2016-08-31</div><div class="post-content"><ol>
<li>git移除某个指定的commit<br> git revert命令，此命令用于引入一个新提交来抵消给定的提交的影响。<br>使用: git revert commitId<br>图解:<br>A —B —C —D—-E —–F<br>现在想要删除D这个commit，即删除D这个commit对当前分支的影响<br>使用git revert commit_D_id ,执行之后的状态<br>A—B—C—D—-E—-F—-D1<br>D1的提交即是D的逆转。<br>上图解也说明了git revert的原理，git revert不修改版本库的历史纪录，相反它是王历史记录中添加新的提交。</li></ol></div><p class="readmore"><a href="/2016/08/31/Other/Git移除某个指定的commit提交/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2016/08/31/Android/android调用新浪微博分享未安装微博客户端时H5分享页面空白页面/">android调用新浪微博分享未安装微博客户端时H5分享页面空白页面</a></h1><div class="post-meta">2016-08-31</div><div class="post-content"><p>问题描述: 最近修改客户端微博sdk，由于原来使用的是open api的分享和认证，现在准备切换为微博的sdk来实现。使用过程中出现了未安装新浪微博客户端时，web分享，oss web认证，登录页面打开空白的问题，<a href="https://github.com/sinaweibosdk/weibo_android_sdk/issues/180" target="_blank" rel="noopener">https://github.com/sinaweibosdk/weibo_android_sdk/issues/180</a>。<br>尝试第一步: 无奈之下，只能看官方demo然后对比自己的代码了。然并卵，代码改成一样的都不行。<br>尝试第二部: 既然这样不行，那只能自己再去写一个demo了，自己写的代码代码和有问题的工程几乎是一样的。Run Demo，见了鬼了，没有任何问题。<br>没有办法了，只能看官方github上的issue了，竟然周到了碰到相同问题的哥们。于是了解到了他们产生此问题的原因:<code>起用了webview的pauseTimers()方法</code><br>WebView的pauseTimers()方法:<br>官方API解释:<br><code>Pauses all layout, parsing, and JavaScript timers for all WebViews. This is a global requests, not restricted to just this WebView. This can be useful if the application has been paused.</code><br>大致含义是是一个全局的设置，暂停掉所有的布局，解析以及js执行，到这儿恍然大悟。我们代码中的正文页有使用webview，并在页面onPause的使用掉用了webview的pauseTimers()方法。恰巧，调用微博sdk的h5进行登录认证的时候，正好我们的页面处于onPause的状态，导致了微博sdk中的webview停止了渲染，出现白页。<br>如上:解决方式，不执行webview的pauseTimers()方法(即不启用webview的暂停渲染)</p></div><p class="readmore"><a href="/2016/08/31/Android/android调用新浪微博分享未安装微博客户端时H5分享页面空白页面/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2016/08/18/Other/Git记录用户名和密码/">Git常用命令以及常见问题处理</a></h1><div class="post-meta">2016-08-18</div><div class="post-content"><p>Mac下使用git进行操作时，总是会提示输入用户名和密码，特别蛋疼，今天查了一下如何让系统记录我们的用户名和密码<br><code>git config --global credential.helper store</code><br>使用这个会在当前用户根目录下创建一个.git-credentials的文件用于明文保存用户名密码及相关链接。 OK试试吧，看看系统是不是自动记录了你的用户名和密码</p></div><p class="readmore"><a href="/2016/08/18/Other/Git记录用户名和密码/">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2016/07/20/Android/apktools反解析中的异常处理/">apktools反解析中的异常处理</a></h1><div class="post-meta">2016-07-20</div><div class="post-content"><p>最近在改打包脚本，有一个需求是想根据渠道来修改AndroidManifest.xml文件，查了一些文档，基本上是没有什么好的办法，最后只能上apktools进行反解析，然后进行回编译。然而使用的apktools进行反编译时，遇到了以下异常。google了一下，并从apktools官网查了一下文档了解到次异常是由于反编译的apk文件中使用了系统的资源，导致了反编译时找不到此资源。<br>apktools反编译工具反解析的时报如下异常<br><img src="/2016/07/20/Android/apktools反解析中的异常处理/Snip20160720_5.png" alt><br>想要解决此异常，其实只需要把系统的资源的导出来用就行, 需要的资源在framework-res.apk中，<code>framework-res.apk一般存放于手机的/system目录下</code>。下边晒官网的解决方式。<br><a href="https://ibotpeaches.github.io/Apktool/" target="_blank" rel="noopener">apktools官网</a><br><img src="/2016/07/20/Android/apktools反解析中的异常处理/Snip20160720_7.png" alt></p></div><p class="readmore"><a href="/2016/07/20/Android/apktools反解析中的异常处理/">阅读全文</a></p></div><nav class="page-navigator"><a class="extend prev" rel="prev" href="/page/4/">上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><a class="page-number" href="/page/7/">7</a><span class="space">&hellip;</span><a class="page-number" href="/page/14/">14</a><a class="extend next" rel="next" href="/page/6/">下一页</a></nav></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"><input type="hidden" name="sitesearch" value="http://glanwang.com"></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Gradle/">Gradle</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mac/">Mac</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Other/">Other</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/IDEA导出可执行jar/" style="font-size: 15px;">IDEA导出可执行jar</a> <a href="/tags/堆，栈/" style="font-size: 15px;">堆，栈</a> <a href="/tags/设计模式/" style="font-size: 15px;">设计模式</a> <a href="/tags/transient/" style="font-size: 15px;">transient</a> <a href="/tags/transform-API-gradle/" style="font-size: 15px;">transform API, gradle</a> <a href="/tags/gradle-守护进程，org-gradle-daemon/" style="font-size: 15px;">gradle 守护进程，org.gradle.daemon</a> <a href="/tags/Gradle/" style="font-size: 15px;">Gradle</a> <a href="/tags/shell字符串/" style="font-size: 15px;">shell字符串</a> <a href="/tags/shell/" style="font-size: 15px;">shell</a> <a href="/tags/正则表达式，shell/" style="font-size: 15px;">正则表达式，shell</a> <a href="/tags/git/" style="font-size: 15px;">git</a> <a href="/tags/git-clean/" style="font-size: 15px;">git clean</a> <a href="/tags/git迁移/" style="font-size: 15px;">git迁移</a> <a href="/tags/vim/" style="font-size: 15px;">vim</a> <a href="/tags/aop-aspectJ/" style="font-size: 15px;">aop, aspectJ</a> <a href="/tags/AOP/" style="font-size: 15px;">AOP</a> <a href="/tags/memory-monitors-android-studio/" style="font-size: 15px;">memory monitors, android studio</a> <a href="/tags/嵌套滚动-NestedScrolling/" style="font-size: 15px;">嵌套滚动, NestedScrolling</a> <a href="/tags/systrace/" style="font-size: 15px;">systrace</a> <a href="/tags/greenDao-数据库/" style="font-size: 15px;">greenDao, 数据库</a> <a href="/tags/design-appBarLayout/" style="font-size: 15px;">design, appBarLayout</a> <a href="/tags/AspectJ-android/" style="font-size: 15px;">AspectJ, android</a> <a href="/tags/quic-cronet-httpDns/" style="font-size: 15px;">quic, cronet, httpDns</a> <a href="/tags/quic-cronet-http3/" style="font-size: 15px;">quic, cronet, http3,</a> <a href="/tags/glide-图片无法加载-获取缓存图片/" style="font-size: 15px;">glide, 图片无法加载, 获取缓存图片</a> <a href="/tags/gradle教程/" style="font-size: 15px;">gradle教程</a> <a href="/tags/glide源码解读/" style="font-size: 15px;">glide源码解读</a> <a href="/tags/gradle，屏蔽，task/" style="font-size: 15px;">gradle，屏蔽，task</a> <a href="/tags/proguard/" style="font-size: 15px;">proguard</a> <a href="/tags/okhttp-header/" style="font-size: 15px;">okhttp, header</a> <a href="/tags/sqltie-GreenDao/" style="font-size: 15px;">sqltie, GreenDao</a> <a href="/tags/Tinker-patch/" style="font-size: 15px;">Tinker, patch</a> <a href="/tags/buildSrc调试/" style="font-size: 15px;">buildSrc调试</a> <a href="/tags/apktools/" style="font-size: 15px;">apktools</a> <a href="/tags/https-httpDNS/" style="font-size: 15px;">https, httpDNS</a> <a href="/tags/事件传递/" style="font-size: 15px;">事件传递</a> <a href="/tags/嵌套滚动-viewpager/" style="font-size: 15px;">嵌套滚动, viewpager</a> <a href="/tags/Too-many-classes-in-main-dex-list，-main-dex-capacity-exceeded/" style="font-size: 15px;">Too many classes in --main-dex-list， main dex capacity exceeded</a> <a href="/tags/widget-android-8-0/" style="font-size: 15px;">widget, android 8.0</a> <a href="/tags/请求追踪/" style="font-size: 15px;">请求追踪</a> <a href="/tags/瘦身/" style="font-size: 15px;">瘦身</a> <a href="/tags/热更新-热补丁/" style="font-size: 15px;">热更新, 热补丁</a> <a href="/tags/Android8-0适配/" style="font-size: 15px;">Android8.0适配</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2021/03/24/Android/Cronet网络协议选择之HTTP2与QUIC的竞速/">Cronet网络协议选择之HTTP2与QUIC的竞速</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/12/08/boostnote/">boostnote</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/09/22/Android/Cronet实现HttpDns/">Cronet实现HttpDns</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/05/29/Android/Android获取应用磁盘空间占用/">Android获取应用磁盘空间占用</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/23/Android/gradle之buildSrc代码调试/">gradle之buildSrc代码调试</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/19/Android/Android性能分析之systrace使用/">Android性能分析之systrace使用</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/04/03/Android/Tinker接入实践/">Tinker接入实践</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/03/21/Android/AOP技术在客户端的应用与实践/">AOP技术在客户端的应用与实践</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/03/13/Other/Git-Repo/">Git-Repo</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/12/Android/桌面Widget适配android8-0/">桌面Widget适配android8.0</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2021 <a href="/." rel="nofollow">Glan Wang.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/3.5.2/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/3.5.2/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>