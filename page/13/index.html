<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>Glan Wang</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Glan Wang">
<meta property="og:url" content="http://glanwang.com/page/13/index.html">
<meta property="og:site_name" content="Glan Wang">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Glan Wang">
  
    <link rel="alternate" href="/atom.xml" title="Glan Wang" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Glan Wang</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">CoderGC</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://glanwang.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Android/Android项目Build报错Unable to execute dx(65535问题解决方案)" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/04/17/Android/Android项目Build报错Unable to execute dx(65535问题解决方案)/" class="article-date">
  <time datetime="2015-04-17T04:26:00.000Z" itemprop="datePublished">2015-04-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/04/17/Android/Android项目Build报错Unable to execute dx(65535问题解决方案)/">Android项目Build报错Unable to execute dx(65535问题解决方案)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>问题描述：Android项目引入过多的第三方包时，在编译成dex文件的时候，单个dex文件中的方法总数超过了65535个，此时就报错。直白了说就是单个dex文件最多能接受65535个方法。</p>
<h2 id="解决方法："><a href="#解决方法：" class="headerlink" title="解决方法："></a>解决方法：</h2><p>Google已经描述了这一问题，并且颁布了对应的解决方案。使用<code>Android-support-multidex.jar</code>兼容包来解决。<code>注意：此包只能兼容到api 14，一次4.0一下的系统会有问题</code>。<br>方案原理：编译时发现方法总数过多时，将生成多个dex文件，这样单个文件的方法总数就不会产生65535的问题。</p>
<h2 id="一，非gradle构建的项目（eclipse开发项目）解决方案："><a href="#一，非gradle构建的项目（eclipse开发项目）解决方案：" class="headerlink" title="# 一，非gradle构建的项目（eclipse开发项目）解决方案："></a># 一，非gradle构建的项目（eclipse开发项目）解决方案：</h2><p>通常使用eclipse开发，都是使用的adt构建的项目，出现此问题解决方案就是<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">1 下载`Android-support-multidex.jar`兼容包。</span><br><span class="line">2 将此兼容包放到libs目录下，并将jar引入过程配置。</span><br><span class="line">3 如果代码有实现了Application的类，则需要将此类继承MultiDexApplication类。如果没有则在AndroidMainfest.xml中加入如下配置。</span><br><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</span><br><span class="line">    package=&quot;com.example.android.multidex.myapplication&quot;&gt;</span><br><span class="line">    &lt;application</span><br><span class="line">        ...</span><br><span class="line">        android:name=&quot;android.support.multidex.MultiDexApplication&quot;&gt;</span><br><span class="line">        ...</span><br><span class="line">    &lt;/application&gt;</span><br><span class="line">&lt;/manifest&gt;</span><br></pre></td></tr></table></figure></p>
<h2 id="二、gradle构建的项目-Android-studio默认的构建方式-解决方案"><a href="#二、gradle构建的项目-Android-studio默认的构建方式-解决方案" class="headerlink" title="# 二、gradle构建的项目(Android studio默认的构建方式)解决方案"></a># 二、gradle构建的项目(Android studio默认的构建方式)解决方案</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">思路基本相同：</span><br><span class="line">1，引入兼容包Android-support-multidex.jar</span><br><span class="line">    dependencies &#123;</span><br><span class="line">      compile &apos;com.android.support:multidex:1.0.0&apos;</span><br><span class="line">    &#125;</span><br><span class="line">2，配置Application类，或者配置清单文件</span><br></pre></td></tr></table></figure>
<p><code>详情见：</code><a href="https://developer.android.com/tools/building/multidex.html#mdex-gradle" target="_blank" rel="noopener">android 官网相关介绍</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://glanwang.com/2015/04/17/Android/Android项目Build报错Unable to execute dx(65535问题解决方案)/" data-id="cjt71hajz001nzg22unpsl2z5" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Mac/shell命令 " class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/04/16/Mac/shell命令 /" class="article-date">
  <time datetime="2015-04-16T15:18:00.000Z" itemprop="datePublished">2015-04-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Mac/">Mac</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/04/16/Mac/shell命令 /">shell命令</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="1-echo-变量的取用与配置"><a href="#1-echo-变量的取用与配置" class="headerlink" title="1,echo :变量的取用与配置"></a>1,echo :变量的取用与配置</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//去除摸个变量</span><br><span class="line">[root@www ~]# echo $PATH</span><br><span class="line">/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/root/bin</span><br><span class="line">[root@www ~]# echo $&#123;PATH&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//修改配置变量，将 myname 这个变量名称的内容配置为 VBird</span><br><span class="line">[root@www ~]# echo $myname</span><br><span class="line">       &lt;==这里并没有任何数据～因为这个变量尚未被配置！是空的！</span><br><span class="line">[root@www ~]# myname=VBird</span><br><span class="line">[root@www ~]# echo $myname</span><br><span class="line">VBird  &lt;==出现了！因为这个变量已经被配置了！</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">扩增变量内容时，用 &quot;$变量名称&quot; 或 $&#123;变量&#125; 累加内容，如下所示：</span><br><span class="line">『PATH=&quot;$PATH&quot;:/home/bin』</span><br></pre></td></tr></table></figure>
<h3 id="2，export：将变量变成环境变量，一边可以在其他子程序中使用"><a href="#2，export：将变量变成环境变量，一边可以在其他子程序中使用" class="headerlink" title="2，export：将变量变成环境变量，一边可以在其他子程序中使用"></a>2，export：将变量变成环境变量，一边可以在其他子程序中使用</h3><p><code>什么是『子程序』呢？</code>就是说，在我目前这个 shell 的情况下，去激活另一个新的 shell ，新的那个 shell 就是子程序啦！在一般的状态下，父程序的自定义变量是无法在子程序内使用的。但是透过 export 将变量变成环境变量后，就能够在子程序底下应用了<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">如何让我刚刚配置的 name=VBird 可以用在下个 shell 的程序？</span><br><span class="line">[root@www ~]# echo $&#123;name&#125;</span><br><span class="line">[root@www ~]# name=VBird</span><br><span class="line">[root@www ~]# bash        &lt;==进入到所谓的子程序</span><br><span class="line">[root@www ~]# echo $name  &lt;==子程序：再次的 echo 一下；</span><br><span class="line">       &lt;==嘿嘿！并没有刚刚配置的内容喔！</span><br><span class="line">[root@www ~]# exit        &lt;==子程序：离开这个子程序</span><br><span class="line">[root@www ~]# export name</span><br><span class="line">[root@www ~]# bash        &lt;==进入到所谓的子程序</span><br><span class="line">[root@www ~]# echo $name  &lt;==子程序：在此运行！</span><br><span class="line">VBird  &lt;==看吧！出现配置值了！</span><br><span class="line">[root@www ~]# exit        &lt;==子程序：离开这个子程序</span><br></pre></td></tr></table></figure></p>
<h3 id="3-unset-取消刚刚配置的变量内容"><a href="#3-unset-取消刚刚配置的变量内容" class="headerlink" title="3, unset 取消刚刚配置的变量内容"></a>3, unset 取消刚刚配置的变量内容</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# unset name</span><br></pre></td></tr></table></figure>
<h3 id="4-特殊符号的使用"><a href="#4-特殊符号的使用" class="headerlink" title="4,特殊符号的使用"></a>4,特殊符号的使用</h3><h3 id="4-1-变量配置中单引号与双引号的区别"><a href="#4-1-变量配置中单引号与双引号的区别" class="headerlink" title="#4.1 变量配置中单引号与双引号的区别"></a>#4.1 变量配置中单引号与双引号的区别</h3><p>单引号与双引号的最大不同在于双引号仍然可以保有变量的内容，但单引号内仅能是一般字符 ，而不会有特殊符号。我们以底下的例子做说明：假设您定义了一个变量， name=VBird ，现在想以 name 这个变量的内容定义出 myname 显示 VBird its me 这个内容，要如何订定呢？<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# name=VBird</span><br><span class="line">[root@www ~]# echo $name</span><br><span class="line">VBird</span><br><span class="line">[root@www ~]# myname=&quot;$name its me&quot;</span><br><span class="line">[root@www ~]# echo $myname</span><br><span class="line">VBird its me</span><br><span class="line">[root@www ~]# myname=&apos;$name its me&apos;</span><br><span class="line">[root@www ~]# echo $myname</span><br><span class="line">$name its me</span><br></pre></td></tr></table></figure></p>
<p>发现了吗？没错！使用了单引号的时候，那么 $name 将失去原有的变量内容，仅为一般字符的显示型态而已！这里必需要特别小心在意！</p>
<h3 id="4-2-反单引号-这个符号代表的意义为何"><a href="#4-2-反单引号-这个符号代表的意义为何" class="headerlink" title="#4.2 反单引号( ` )这个符号代表的意义为何"></a>#4.2 反单引号( ` )这个符号代表的意义为何</h3><p>在一串命令中，在 ` 之内的命令将会被先运行，而其运行出来的结果将做为外部的输入信息！例如 uname -r 会显示出目前的核心版本，而我们的核心版本在 /lib/modules 里面，因此，你可以先运行 uname -r 找出核心版本，然后再以『 cd 目录』到该目录下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">如何进入到您目前核心的模块目录？</span><br><span class="line">[root@www ~]# cd /lib/modules/`uname -r`/kernel</span><br><span class="line">[root@www ~]# cd /lib/modules/$(uname -r)/kernel</span><br></pre></td></tr></table></figure></p>
<p><code>使用『 version=$(uname -r) 』来取代『 version=</code>uname -r<code>』比较好，因为反单引号大家老是容易打错或看错</code></p>
<h3 id="常用案例"><a href="#常用案例" class="headerlink" title="常用案例"></a>常用案例</h3><p><code>若你有一个常去的工作目录名称为：『/cluster/server/work/taiwan_2005/003/』，如何进行该目录的简化？</code><br>在一般的情况下，如果你想要进入上述的目录得要『cd /cluster/server/work/taiwan_2005/003/』， 以鸟哥自己的案例来说，鸟哥跑数值模式常常会配置很长的目录名称(避免忘记)，但如此一来变换目录就很麻烦。 此时，鸟哥习惯利用底下的方式来降低命令下达错误的问题：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# work=&quot;/cluster/server/work/taiwan_2005/003/&quot;</span><br><span class="line">[root@www ~]# cd $work</span><br></pre></td></tr></table></figure></p>
<p>未来我想要使用其他目录作为我的模式工作目录时，只要变更 work 这个变量即可！而这个变量又可以在 bash 的配置文件中直接指定，那我每次登陆只要运行『 cd $work 』就能够去到数值模式仿真的工作目录了！是否很方便呢？ ^_^</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://glanwang.com/2015/04/16/Mac/shell命令 /" data-id="cjt71hart007lzg22zv88xak4" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Android/adb常用命令和logcat过滤" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/04/16/Android/adb常用命令和logcat过滤/" class="article-date">
  <time datetime="2015-04-16T12:27:00.000Z" itemprop="datePublished">2015-04-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/04/16/Android/adb常用命令和logcat过滤/">adb常用命令和logcat过滤</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="一、logcat过滤"><a href="#一、logcat过滤" class="headerlink" title="一、logcat过滤"></a>一、logcat过滤</h3><p>开发中查看log是无法避免的事情，但是图形化的log输出工具有时候不是非常好用，当log过多时，滚动过快等问题。<br>1 <code>adb logcat |grep 过滤关键字</code> 快速过滤关键字相关的log<br><img src="/2015/04/16/Android/adb常用命令和logcat过滤/grep过滤.png" alt><br>2 <code>adb logcat *:日志级别</code><br>日志级别:见 <code>三、Android Log简介</code><br><img src="/2015/04/16/Android/adb常用命令和logcat过滤/21-04-34.jpg" alt="log level过滤"></p>
<h3 id="二、常用的adb命令"><a href="#二、常用的adb命令" class="headerlink" title="二、常用的adb命令"></a>二、常用的adb命令</h3><ol>
<li><p><code>adb devices 查看设备</code> 这个命令是查看当前连接的设备, 连接到计算机的android设备或者模拟器将会列出显示.</p>
</li>
<li><p>安装软件 卸载软件<br><code>adb install &lt;apk文件路径&gt;</code><br><code>adb uninstall &lt;软件名&gt;</code></p>
</li>
<li><p>登录设备shell<br><code>adb shell</code><br><code>adb shell &lt;command命令&gt;</code><br>这个命令将登录设备的shell.<br>后面加&lt;command命令&gt;将是直接运行设备命令, 相当于执行远程命令</p>
</li>
<li><p>从电脑上发送文件到设备<br><code>adb push &lt;本地路径&gt; &lt;远程路径&gt;</code><br>用push命令可以把本机电脑上的文件或者文件夹复制到设备(手机)</p>
</li>
<li><p>从设备上下载文件到电脑<br><code>adb pull &lt;远程路径&gt; &lt;本地路径&gt;</code><br>用pull命令可以把设备(手机)上的文件或者文件夹复制到本机电脑</p>
</li>
<li><p>取得设备root权限<br><code>adb remount</code><br>三、Android Log简介<br>android.util.Log常用的方法有以下5个：Log.v() Log.d() Log.i() Log.w() 以及 Log.e() 。根据首字母对应VERBOSE，DEBUG,INFO, WARN，ERROR。</p>
</li>
</ol>
<p>1、Log.v 的调试颜色为黑色的，任何消息都会输出，这里的v代表verbose啰嗦的意思，平时使用就是Log.v(“”,””);</p>
<p>2、Log.d的输出颜色是蓝色的，仅输出debug调试的意思，但他会输出上层的信息，过滤起来可以通过DDMS的Logcat标签来选择.</p>
<p>3、Log.i的输出为绿色，一般提示性的消息information，它不会输出Log.v和Log.d的信息，但会显示i、w和e的信息</p>
<p>4、Log.w的意思为橙色，可以看作为warning警告，一般需要我们注意优化Android代码，同时选择它后还会输出Log.e的信息。</p>
<p>​5、Log.e为红色，可以想到error错误，这里仅显示红色的错误信息，这些错误就需要我们认真的分析，查看栈的信息了。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://glanwang.com/2015/04/16/Android/adb常用命令和logcat过滤/" data-id="cjt71hanz003rzg22qhlwizu3" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Android/onNewIntent(Intent intent)和Activity的启动模式" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/04/14/Android/onNewIntent(Intent intent)和Activity的启动模式/" class="article-date">
  <time datetime="2015-04-14T05:00:00.000Z" itemprop="datePublished">2015-04-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/04/14/Android/onNewIntent(Intent intent)和Activity的启动模式/">onNewIntent(Intent intent)和Activity的启动模式</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="onNewIntent-方法使用场景"><a href="#onNewIntent-方法使用场景" class="headerlink" title="onNewIntent()方法使用场景"></a>onNewIntent()方法使用场景</h3><p>当一个应用的某个Activity提供多种调用启动的情况（当前应用调用，其他应用通过隐式Intent调用，或者WAP页通过scheme调用），多个调用希望只有一个Activity的实例存在，这时候就需要Activity的onNewIntent(Intent intent)方法了。</p>
<h3 id="onNewIntent-方法的使用"><a href="#onNewIntent-方法的使用" class="headerlink" title="onNewIntent()方法的使用"></a>onNewIntent()方法的使用</h3><blockquote>
</blockquote>
<p>1 在清单文件（AndroidMainfest.xml）中，对应的Activity上加上启动模式lanuchMode=”singleTask”.<br>2,在Activity中复写onNewIntent(Intent intent)方法，在此方法中调用setIntent(intent)方法，将新的Intent赋值给Activity的Intent。</p>
<h3 id="onNewIntent-调用时机解释"><a href="#onNewIntent-调用时机解释" class="headerlink" title="onNewIntent()调用时机解释"></a>onNewIntent()调用时机解释</h3><blockquote>
</blockquote>
<p>onNewIntent（）非常好用，Activity第一启动的时候执行onCreate()—-&gt;onStart()—-&gt;onResume()等后续生命周期函数，也就时说第一次启动Activity并不会执行到onNewIntent().<br>而后面如果再有想启动Activity的时候，那就是执行onNewIntent()—-&gt;onResart()——&gt;onStart()—–&gt;onResume().  如果android系统由于内存不足把已存在Activity释放掉了，那么再次调用的时候会重新启动Activity即执行onCreate()—-&gt;onStart()—-&gt;onResume()等。</p>
<h3 id="Activity的启动模式简介"><a href="#Activity的启动模式简介" class="headerlink" title="Activity的启动模式简介"></a>Activity的启动模式简介</h3><blockquote>
</blockquote>
<p> Activity启动模式设置：</p>
<p>&lt;activity android:name=”.MainActivity”android:launchMode=”standard”/&gt;<br>        Activity的四种启动模式：<br>        1.standard<br>        默认启动模式，每次激活Activity时都会创建Activity，并放入任务栈中。<br>        2.singleTop<br>        如果在任务的栈顶正好存在该Activity的实例， 就重用该实例，否者就会创建新的实例并放入栈顶(即使栈中已经存在该Activity实例，只要不在栈顶，都会创建实例)。<br>        3.singleTask<br>        如果在栈中已经有该Activity的实例，就重用该实例(会调用实例的onNewIntent())。重用时，会让该实例回到栈顶，因此在它上面的实例将会被移除栈。如果栈中不存在该实例，将会创建新的实例放入栈中。<br>        4.singleInstance<br>        在一个新栈中创建该Activity实例，并让多个应用共享改栈中的该Activity实例。一旦改模式的Activity的实例存在于某个栈中，任何应用再激活改Activity时都会重用该栈中的实例，其效果相当于多个应用程序共享一个应用，不管谁激活该Activity都会进入同一个应用中     </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://glanwang.com/2015/04/14/Android/onNewIntent(Intent intent)和Activity的启动模式/" data-id="cjt71hap3004czg22qfersrkp" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Android/largeHeap属性临时性解决OOM问题" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/04/13/Android/largeHeap属性临时性解决OOM问题/" class="article-date">
  <time datetime="2015-04-13T12:28:00.000Z" itemprop="datePublished">2015-04-13</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/04/13/Android/largeHeap属性临时性解决OOM问题/">largeHeap属性临时性解决OOM问题</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="AndroidMainfest-xml中的application标签下的android-largeHeap属性可以用于解决临时性OOM问题-注：不能从根本上解决-。"><a href="#AndroidMainfest-xml中的application标签下的android-largeHeap属性可以用于解决临时性OOM问题-注：不能从根本上解决-。" class="headerlink" title="AndroidMainfest.xml中的application标签下的android:largeHeap属性可以用于解决临时性OOM问题(注：不能从根本上解决)。"></a>AndroidMainfest.xml中的application标签下的android:largeHeap属性可以用于解决临时性OOM问题(注：不能从根本上解决)。</h3><p>dalvik与GC相关的属性有：<br>dalvik.vm.heapstartsize：初始化dalvik分配的内存大小。<br>dalvik.vm.heapgrowthlimit：<code>没有在mainfest中设置android:largeheap=&quot;true&quot;时，应用的最大内存，超过这个值限制值会有OOM产生。</code><br>dalvik.vm.heapsize：<code>在mainfest中设置android:largeheap=&quot;true&quot;时，应用的最大内存，超过这个值限制值会有OOM产生。</code></p>
<p><code>注：从根本上讲要解决大图片的OOM问题，还是要对图片进行压缩。</code></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://glanwang.com/2015/04/13/Android/largeHeap属性临时性解决OOM问题/" data-id="cjt71hap2004azg22zy9kptsf" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Other/关于简历(转自codeKK写的真心不错)" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/04/10/Other/关于简历(转自codeKK写的真心不错)/" class="article-date">
  <time datetime="2015-04-10T06:01:00.000Z" itemprop="datePublished">2015-04-10</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Other/">Other</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/04/10/Other/关于简历(转自codeKK写的真心不错)/">关于简历(转自codeKK写的真心不错)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>到目前为止接近四年面试官经验，加上经常帮朋友面人，自己也有几次换工作的经历。</p>
<p>#简历中的要与不要#这个话题还是比较有发言权的。</p>
<ol>
<li>不要<br>(1) 不要用任何招聘网站的模板、不要 word 版<br>尤其是智联招聘、51job 这类该被时代淘汰的站点。</li>
</ol>
<p>维护一份 Word 版(发送时请用 Pdf)，每年更新一次，不跳槽，也能梳理下自己。当然我的建议是跳不跳不重要，一两年看次市场行情、也顺便了解业内公司在做啥。</p>
<p>(2) 不要用“精通”二字<br>你说你精通多线程，简单聊下“最大并发数开多少合适、线程怎么停止”都不知道；</p>
<p>精通 Java，就不聊字节码、加载器、内存回收算法了，几个字符串相关类区别、接口编程、集合类总该了解吧。</p>
<p>个人简历一直是熟悉 Android xx 部分、熟悉 Java。“精通”真的只能逗逗那些不靠谱公司。</p>
<p>(3) 不要写任何国内培训经历、软件证书<br>即便你是半路出家也不要写“计算机四级之类的证书”，北大青鸟之流的培训就不说了。</p>
<p>有看到写着“获得教育部颁发的 Android 应用工程师证书”，吓尿了，我是无证程序员，不敢招你过来。</p>
<p>(4) 不要写常年混迹于 xxx 社区、xxxx 论坛<br>什么版主之流那都是小白干的事，别在里面浪费时间了，没事逛逛 GitHub 这类高质清净的网站，</p>
<p>这个是第一次在公开场合吐槽这类网站，算了，太大声容易得罪人，让时间去淘汰它们吧。</p>
<p><a href="https://github.com/android-cn/android-discuss/issues" target="_blank" rel="noopener">https://github.com/android-cn/android-discuss/issues</a> 这个项目改名，也有出于让大家有个更纯正的类论坛交流区考虑。</p>
<p>(5) 不要写自我评价<br>傲娇脸，原因不想说</p>
<p>(6) 项目经验中不要写软件环境、硬件环境、开发工具之类的<br>太 low，项目写项目介绍、职责业绩就差不多了。</p>
<p>(7) 不要 QQ 邮箱，Gmail 最佳<br>从个人角度而言腾讯不少产品做的挺好，QQ 邮箱也算，但做技术用这类邮箱还是太跌份了。</p>
<p>(8) 个人博客、GitHub 如果没有什么内容就别放太显眼位置了<br>可以写自己每天逛 GitHub，对哪些项目有关注之类的反倒更有用。</p>
<p>(9) 头像不用，仅美女除外<br>(10) 民族、政治面貌、联系地址不用</p>
<ol start="2">
<li>要<br>(1) 重点突出工作经历及项目经验<br>重点突出项目中你的职责、贡献、突出点。</li>
</ol>
<p>这是简历的重点，也是面试主要聊的点。</p>
<p>(2) 用数字说话<br>比如专业排名(2/200)，员工考评(10/1000)<br>性能提高、Crash 率下降、成本节省多少之类。<br>大多数工程师可能不擅长这点，自己挖挖肯定有的。</p>
<p>(3) PDF 版<br>Word 版在 Mac 上可能会乱。<br>顺便说下</p>
<ul>
<li>很多招聘网站导出来的简历 Mac 上都打不开；</li>
<li>猎头会改你简历内容，你要确保他不会删一些东西，比如个人博客、GitHub。</li>
</ul>
<p>(4) 格式整齐，段落有序<br>这个基本的要求，很多人都做不好。</p>
<p>我有代码洁癖，再者默认觉得 Word 排版不好的，要么不用心要么代码规范烂。</p>
<p>(5) 明确写好在校及各公司的起始年限</p>
<p>(6) 简历保持在两页左右<br>不至于太短也不至于信息太多，项目经验过多的可压缩，一般面试也就聊一两个主要项目就 ok。</p>
<p>当然如果你足够牛逼，给个博客地址或 GitHub 链接也 ok(态度貌似有点傲慢，哈哈)，如果做不到请尽量重点详细介绍你的项目经验。</p>
<p>(7) 邮件标题及简单问候<br>codeKK 上一些职位是我发的，所以有时会收到一个仅含标题和附件的简历。虽然不用太客气，至少也得<br>“Hi，您好，codeKK 上看到你们的内推，挺感兴趣，下面是我的简历，谢谢。”<br>简单打声招呼吧。<br>邮件及简历附件标题尽量用姓名-原公司-职位。</p>
<p>以上适用于技术通用情况，特殊情况请勿参考。</p>
<p>所有举例不针对个人，只是把自己的感受经验分享出来，希望大家都有个靓丽的简历，为一份好的工作开个头。<br> <code>转自：codeKK</code> 原文地址：到目前为止接近四年面试官经验，加上经常帮朋友面人，自己也有几次换工作的经历。</p>
<p>#简历中的要与不要#这个话题还是比较有发言权的。</p>
<ol>
<li>不要<br>(1) 不要用任何招聘网站的模板、不要 word 版<br>尤其是智联招聘、51job 这类该被时代淘汰的站点。</li>
</ol>
<p>维护一份 Word 版(发送时请用 Pdf)，每年更新一次，不跳槽，也能梳理下自己。当然我的建议是跳不跳不重要，一两年看次市场行情、也顺便了解业内公司在做啥。</p>
<p>(2) 不要用“精通”二字<br>你说你精通多线程，简单聊下“最大并发数开多少合适、线程怎么停止”都不知道；</p>
<p>精通 Java，就不聊字节码、加载器、内存回收算法了，几个字符串相关类区别、接口编程、集合类总该了解吧。</p>
<p>个人简历一直是熟悉 Android xx 部分、熟悉 Java。“精通”真的只能逗逗那些不靠谱公司。</p>
<p>(3) 不要写任何国内培训经历、软件证书<br>即便你是半路出家也不要写“计算机四级之类的证书”，北大青鸟之流的培训就不说了。</p>
<p>有看到写着“获得教育部颁发的 Android 应用工程师证书”，吓尿了，我是无证程序员，不敢招你过来。</p>
<p>(4) 不要写常年混迹于 xxx 社区、xxxx 论坛<br>什么版主之流那都是小白干的事，别在里面浪费时间了，没事逛逛 GitHub 这类高质清净的网站，</p>
<p>这个是第一次在公开场合吐槽这类网站，算了，太大声容易得罪人，让时间去淘汰它们吧。</p>
<p><a href="https://github.com/android-cn/android-discuss/issues" target="_blank" rel="noopener">https://github.com/android-cn/android-discuss/issues</a> 这个项目改名，也有出于让大家有个更纯正的类论坛交流区考虑。</p>
<p>(5) 不要写自我评价<br>傲娇脸，原因不想说</p>
<p>(6) 项目经验中不要写软件环境、硬件环境、开发工具之类的<br>太 low，项目写项目介绍、职责业绩就差不多了。</p>
<p>(7) 不要 QQ 邮箱，Gmail 最佳<br>从个人角度而言腾讯不少产品做的挺好，QQ 邮箱也算，但做技术用这类邮箱还是太跌份了。</p>
<p>(8) 个人博客、GitHub 如果没有什么内容就别放太显眼位置了<br>可以写自己每天逛 GitHub，对哪些项目有关注之类的反倒更有用。</p>
<p>(9) 头像不用，仅美女除外<br>(10) 民族、政治面貌、联系地址不用</p>
<ol start="2">
<li>要<br>(1) 重点突出工作经历及项目经验<br>重点突出项目中你的职责、贡献、突出点。</li>
</ol>
<p>这是简历的重点，也是面试主要聊的点。</p>
<p>(2) 用数字说话<br>比如专业排名(2/200)，员工考评(10/1000)<br>性能提高、Crash 率下降、成本节省多少之类。<br>大多数工程师可能不擅长这点，自己挖挖肯定有的。</p>
<p>(3) PDF 版<br>Word 版在 Mac 上可能会乱。<br>顺便说下</p>
<ul>
<li>很多招聘网站导出来的简历 Mac 上都打不开；</li>
<li>猎头会改你简历内容，你要确保他不会删一些东西，比如个人博客、GitHub。</li>
</ul>
<p>(4) 格式整齐，段落有序<br>这个基本的要求，很多人都做不好。</p>
<p>我有代码洁癖，再者默认觉得 Word 排版不好的，要么不用心要么代码规范烂。</p>
<p>(5) 明确写好在校及各公司的起始年限</p>
<p>(6) 简历保持在两页左右<br>不至于太短也不至于信息太多，项目经验过多的可压缩，一般面试也就聊一两个主要项目就 ok。</p>
<p>当然如果你足够牛逼，给个博客地址或 GitHub 链接也 ok(态度貌似有点傲慢，哈哈)，如果做不到请尽量重点详细介绍你的项目经验。</p>
<p>(7) 邮件标题及简单问候<br>codeKK 上一些职位是我发的，所以有时会收到一个仅含标题和附件的简历。虽然不用太客气，至少也得<br>“Hi，您好，codeKK 上看到你们的内推，挺感兴趣，下面是我的简历，谢谢。”<br>简单打声招呼吧。<br>邮件及简历附件标题尽量用姓名-原公司-职位。</p>
<p>以上适用于技术通用情况，特殊情况请勿参考。</p>
<p>所有举例不针对个人，只是把自己的感受经验分享出来，希望大家都有个靓丽的简历，为一份好的工作开个头。</p>
<p><code>转自：codeKK</code> 原文地址：<a href="http://mp.weixin.qq.com/s?__biz=MzAxNjI3MDkzOQ==&amp;mid=203556410&amp;idx=1&amp;sn=f8bb42cde4f9fb573ba7c2b821a5c861#rd" target="_blank" rel="noopener">作者原文</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://glanwang.com/2015/04/10/Other/关于简历(转自codeKK写的真心不错)/" data-id="cjt71hati009dzg22khwa0xbn" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Java/Java获取昨天的日期" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/04/03/Java/Java获取昨天的日期/" class="article-date">
  <time datetime="2015-04-03T09:46:00.000Z" itemprop="datePublished">2015-04-03</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Java/">Java</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/04/03/Java/Java获取昨天的日期/">Java获取昨天的日期</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>###Java中获取昨天的日期的几种方式：</p>
<p>1， 通过今天的long型数据减去一天的long型值<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Date as = new Date(new Date().getTime()-24*60*60*1000);</span><br><span class="line">SimpleDateFormat matter1 = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);</span><br><span class="line">String time = matter1.format(as);</span><br><span class="line">System.out.println(time);</span><br></pre></td></tr></table></figure></p>
<p><code>取出数字型的时间  再减去24*60*60*1000，就得到昨天的时间了</code><br>2， 通过Calendar类进行计算(方便快捷，推荐使用)，年月日均可通过此方式获得<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Calendar cal = Calendar.getInstance();</span><br><span class="line">cal.add(Calendar.DATE,-1); //第一个参数表示需要计算的字段；第二个相加的值</span><br><span class="line">String yesterday = new SimpleDateFormat(&quot;yyyy-MM-dd &quot;).format(cal.getTime());</span><br><span class="line">System.out.println(yesterday);</span><br></pre></td></tr></table></figure></p>
<p><code>这个方法很方便，年月日都可以随心所欲的变！</code><br>3，使用第三方库</p>
<p>apache的DateUtils（需要import org.apache.commons.lang.time.DateUtils）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Date currentTime = new Date();</span><br><span class="line">//获取昨天时间</span><br><span class="line">Date backupTime=DateUtils.addDays(currentTime, -1);</span><br></pre></td></tr></table></figure></p>
<p>4, sql 查询条件包含时间的处理方法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from TBIMC1 where CREATE_DATE_&lt;to_date( to_char(sysdate-1,&apos;yyyy-mm-dd&apos;),&apos;yyyy-mm-dd&apos;)</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://glanwang.com/2015/04/03/Java/Java获取昨天的日期/" data-id="cjt71har9006rzg22z21l7le6" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Android/MPChart绘图库的使用" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/04/03/Android/MPChart绘图库的使用/" class="article-date">
  <time datetime="2015-04-03T08:33:00.000Z" itemprop="datePublished">2015-04-03</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/04/03/Android/MPChart绘图库的使用/">MPChart绘图库的使用</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="介绍MPChart开源的使用"><a href="#介绍MPChart开源的使用" class="headerlink" title="介绍MPChart开源的使用"></a>介绍MPChart开源的使用</h3><h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h3><p>本实例是MPChart如何使用的一个Demo。<br>github地址：<a href="https://github.com/JeffWangGithub/MPChartSample" target="_blank" rel="noopener">https://github.com/JeffWangGithub/MPChartSample</a></p>
<h3 id="MPChart"><a href="#MPChart" class="headerlink" title="MPChart"></a>MPChart</h3><p>MPChart是一个第三方的绘图工具库，支持柱形图，折线图，平行图，网状图等。<br>其优点在于：</p>
<ul>
<li>使用简单，界面很清新</li>
<li>与Achart相比，对动画的支持很好。<br><img src="/2015/04/03/Android/MPChart绘图库的使用/MPChartView.gif" alt></li>
</ul>
<h3 id="具体使用"><a href="#具体使用" class="headerlink" title="具体使用"></a>具体使用</h3><p>1 xml或者代码声明View<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;ScrollView</span><br><span class="line">    android:layout_width=&quot;match_parent&quot;</span><br><span class="line">    android:layout_height=&quot;match_parent&quot;</span><br><span class="line">    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;</span><br><span class="line">    &lt;LinearLayout</span><br><span class="line">        android:layout_width=&quot;match_parent&quot;</span><br><span class="line">        android:layout_height=&quot;match_parent&quot;</span><br><span class="line">        android:orientation=&quot;vertical&quot;&gt;</span><br><span class="line">        &lt;!--折线图--&gt;</span><br><span class="line">        &lt;com.github.mikephil.charting.charts.LineChart</span><br><span class="line">            android:id=&quot;@+id/line_chart&quot;</span><br><span class="line">            android:layout_width=&quot;match_parent&quot;</span><br><span class="line">            android:layout_height=&quot;200dp&quot; /&gt;</span><br><span class="line">        &lt;!--柱形图--&gt;</span><br><span class="line">        &lt;com.github.mikephil.charting.charts.BarChart</span><br><span class="line">            android:id=&quot;@+id/bar_chart&quot;</span><br><span class="line">            android:layout_width=&quot;match_parent&quot;</span><br><span class="line">            android:layout_height=&quot;200dp&quot; /&gt;</span><br><span class="line">        &lt;!--饼形图--&gt;</span><br><span class="line">        &lt;com.github.mikephil.charting.charts.PieChart</span><br><span class="line">            android:id=&quot;@+id/pie_chart&quot;</span><br><span class="line">            android:layout_width=&quot;match_parent&quot;</span><br><span class="line">            android:layout_height=&quot;345dp&quot; /&gt;</span><br><span class="line">    &lt;/LinearLayout&gt;</span><br><span class="line">&lt;/ScrollView&gt;</span><br></pre></td></tr></table></figure></p>
<p>2 设置样式，并填充数据<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">public class MainActivity extends ActionBarActivity &#123;</span><br><span class="line">    @Override</span><br><span class="line">    protected void onCreate(Bundle savedInstanceState) &#123;</span><br><span class="line">        super.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        //折线图</span><br><span class="line">        LineChart mLineChart = (LineChart) findViewById(R.id.line_chart);</span><br><span class="line">        setLineChart(mLineChart);</span><br><span class="line">        loadLineChartData(mLineChart);</span><br><span class="line">        //柱形图</span><br><span class="line">        BarChart mBarChart = (BarChart) findViewById(R.id.bar_chart);</span><br><span class="line">        setBarChart(mBarChart);</span><br><span class="line">        loadBarChartData(mBarChart);</span><br><span class="line">        //饼形图</span><br><span class="line">        PieChart mPieChart = (PieChart) findViewById(R.id.pie_chart);</span><br><span class="line">        setPieChart(mPieChart);</span><br><span class="line">        loadPieChartData(mPieChart);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private void loadPieChartData(PieChart chart) &#123;</span><br><span class="line">        //设置中心数据</span><br><span class="line">        chart.setCenterText(&quot;GlanWang&quot;);</span><br><span class="line"></span><br><span class="line">        ArrayList&lt;Entry&gt; entries = new ArrayList&lt;Entry&gt;();</span><br><span class="line"></span><br><span class="line">        for (int i = 0; i &lt; 4; i++) &#123;</span><br><span class="line">            entries.add(new Entry((int) (Math.random() * 70) + 30, i));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        PieDataSet mPieDataSet = new PieDataSet(entries, &quot;&quot;);</span><br><span class="line">        // space between slices</span><br><span class="line">        mPieDataSet.setSliceSpace(2f);</span><br><span class="line">        mPieDataSet.setColors(ColorTemplate.VORDIPLOM_COLORS);</span><br><span class="line"></span><br><span class="line">        PieData mPieChartData = new PieData(getQuarters(),mPieDataSet);</span><br><span class="line"></span><br><span class="line">        // set data</span><br><span class="line">        chart.setData( mPieChartData);</span><br><span class="line"></span><br><span class="line">        //设置动画</span><br><span class="line">        chart.animateXY(900, 900);</span><br><span class="line"></span><br><span class="line">        //设置图例</span><br><span class="line">        Legend l = chart.getLegend();</span><br><span class="line">        l.setPosition(Legend.LegendPosition.RIGHT_OF_CHART);</span><br><span class="line"></span><br><span class="line">        mPieChartData.setValueFormatter(new PercentFormatter());//设置显示成百分比</span><br><span class="line">//        mChartData.setValueTypeface(mTf);</span><br><span class="line">        mPieChartData.setValueTextSize(11f);//设置文字大小</span><br><span class="line">        mPieChartData.setValueTextColor(Color.WHITE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 设置饼形图样式</span><br><span class="line">     * @param chart</span><br><span class="line">     */</span><br><span class="line">    private void setPieChart(PieChart chart) &#123;</span><br><span class="line">        // apply styling</span><br><span class="line">        chart.setDescription(&quot;&quot;);</span><br><span class="line">        chart.setHoleRadius(52f);</span><br><span class="line">        chart.setTransparentCircleRadius(57f);</span><br><span class="line">        chart.setCenterText(&quot;MPChart\nAndroid&quot;);</span><br><span class="line">//        chart.setCenterTextTypeface(mTf);</span><br><span class="line">        chart.setCenterTextSize(18f);</span><br><span class="line">        chart.setUsePercentValues(true);</span><br><span class="line"></span><br><span class="line">        //中心文字颜色</span><br><span class="line">        chart.setCenterTextColor(Color.GREEN);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 加载并设置柱形图的数据</span><br><span class="line">     * @param chart</span><br><span class="line">     */</span><br><span class="line">    private void loadBarChartData(BarChart chart) &#123;</span><br><span class="line">        //所有数据点的集合</span><br><span class="line">        ArrayList&lt;BarEntry&gt; entries = new ArrayList&lt;&gt;();</span><br><span class="line">        for (int i = 0; i &lt;12; i++) &#123;</span><br><span class="line">            entries.add(new BarEntry((int) (Math.random() * 70) + 30, i));</span><br><span class="line">        &#125;</span><br><span class="line">        //柱形数据的集合</span><br><span class="line">        BarDataSet mBarDataSet = new BarDataSet(entries,&quot;barDataSet&quot;);</span><br><span class="line">        mBarDataSet.setBarSpacePercent(20f);</span><br><span class="line">        mBarDataSet.setColors(ColorTemplate.VORDIPLOM_COLORS);//设置每条柱子的颜色</span><br><span class="line">        mBarDataSet.setHighLightAlpha(255);//设置点击后高亮颜色透明度</span><br><span class="line">        mBarDataSet.setHighLightColor(Color.BLUE);</span><br><span class="line"></span><br><span class="line">        //BarData表示挣个柱形图的数据</span><br><span class="line">        BarData mBarData = new BarData(getXAxisShowLable(),mBarDataSet);</span><br><span class="line">        chart.setData(mBarData);</span><br><span class="line">        chart.animateY(1500);//设置动画</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 设置柱形图的样式</span><br><span class="line">     * @param chart</span><br><span class="line">     */</span><br><span class="line">    private void setBarChart(BarChart chart) &#123;</span><br><span class="line">        chart.setDescription(&quot;Glan&quot;);</span><br><span class="line">        chart.setDrawGridBackground(false);//设置网格背景</span><br><span class="line">        chart.setScaleEnabled(false);//设置缩放</span><br><span class="line">        chart.setDoubleTapToZoomEnabled(false);//设置双击不进行缩放</span><br><span class="line"></span><br><span class="line">        //设置X轴</span><br><span class="line">        XAxis xAxis = chart.getXAxis();</span><br><span class="line">        xAxis.setPosition(XAxis.XAxisPosition.BOTTOM);//设置X轴的位置</span><br><span class="line">//        xAxis.setTypeface(mTf);//设置字体</span><br><span class="line">        xAxis.setDrawGridLines(false);</span><br><span class="line">        xAxis.setDrawAxisLine(true);</span><br><span class="line"></span><br><span class="line">        //获得左侧侧坐标轴</span><br><span class="line">        YAxis leftAxis = chart.getAxisLeft();</span><br><span class="line">//        leftAxis.setTypeface(mTf);</span><br><span class="line">        leftAxis.setLabelCount(5);</span><br><span class="line">//        leftAxis.setAxisLineWidth(1.5f);</span><br><span class="line"></span><br><span class="line">        //设置右侧坐标轴</span><br><span class="line">        YAxis rightAxis = chart.getAxisRight();</span><br><span class="line">        rightAxis.setDrawAxisLine(false);//右侧坐标轴线</span><br><span class="line">        rightAxis.setDrawLabels(false);//右侧坐标轴数组Lable</span><br><span class="line">//        rightAxis.setTypeface(mTf);</span><br><span class="line">//        rightAxis.setLabelCount(5);</span><br><span class="line">//        rightAxis.setDrawGridLines(false);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 为折线图设置数据</span><br><span class="line">     * @param chart</span><br><span class="line">     */</span><br><span class="line">    private void loadLineChartData(LineChart chart)&#123;</span><br><span class="line">        //所有线的List</span><br><span class="line">        ArrayList&lt;LineDataSet&gt; allLinesList = new ArrayList&lt;LineDataSet&gt;();</span><br><span class="line"></span><br><span class="line">        ArrayList&lt;Entry&gt; entryList = new ArrayList&lt;Entry&gt;();</span><br><span class="line">        for(int i=0;i&lt;12;i++)&#123;</span><br><span class="line">            //Entry(yValue,xIndex);一个Entry表示一个点，第一个参数为y值，第二个为X轴List的角标</span><br><span class="line">            entryList.add(new Entry((int)(Math.random()*65)+40,i));</span><br><span class="line">        &#125;</span><br><span class="line">        //LineDataSet可以看做是一条线</span><br><span class="line">        LineDataSet dataSet1 = new LineDataSet(entryList,&quot;dataLine1&quot;);</span><br><span class="line">        dataSet1.setLineWidth(2.5f);</span><br><span class="line">        dataSet1.setCircleSize(4.5f);</span><br><span class="line">        dataSet1.setHighLightColor(Color.RED);//设置点击某个点时，横竖两条线的颜色</span><br><span class="line">        dataSet1.setDrawValues(false);//是否在点上绘制Value</span><br><span class="line"></span><br><span class="line">        allLinesList.add(dataSet1);</span><br><span class="line"></span><br><span class="line">        //LineData表示一个LineChart的所有数据(即一个LineChart中所有折线的数据)</span><br><span class="line">        LineData mChartData = new LineData(getXAxisShowLable(),allLinesList);</span><br><span class="line"></span><br><span class="line">        // set data</span><br><span class="line">        chart.setData((LineData) mChartData);</span><br><span class="line">        chart.animateX(1500);//设置动画</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 设置折现图的样式</span><br><span class="line">     * @param chart</span><br><span class="line">     */</span><br><span class="line">    private void setLineChart(LineChart chart) &#123;</span><br><span class="line">        chart.setDescription(&quot;Glan&quot;);</span><br><span class="line">        chart.setDrawGridBackground(false);//设置网格背景</span><br><span class="line">        chart.setScaleEnabled(false);//设置缩放</span><br><span class="line">        chart.setDoubleTapToZoomEnabled(false);//设置双击不进行缩放</span><br><span class="line"></span><br><span class="line">        //设置X轴</span><br><span class="line">        XAxis xAxis = chart.getXAxis();</span><br><span class="line">        xAxis.setPosition(XAxis.XAxisPosition.BOTTOM);//设置X轴的位置</span><br><span class="line">//        xAxis.setTypeface(mTf);//设置字体</span><br><span class="line">        xAxis.setDrawGridLines(false);</span><br><span class="line">        xAxis.setDrawAxisLine(true);</span><br><span class="line"></span><br><span class="line">        //获得左侧侧坐标轴</span><br><span class="line">        YAxis leftAxis = chart.getAxisLeft();</span><br><span class="line">//        leftAxis.setTypeface(mTf);</span><br><span class="line">        leftAxis.setLabelCount(5);</span><br><span class="line">//        leftAxis.setAxisLineWidth(1.5f);</span><br><span class="line"></span><br><span class="line">        //设置右侧坐标轴</span><br><span class="line">        YAxis rightAxis = chart.getAxisRight();</span><br><span class="line">        rightAxis.setDrawAxisLine(false);//右侧坐标轴线</span><br><span class="line">        rightAxis.setDrawLabels(false);//右侧坐标轴数组Lable</span><br><span class="line">//        rightAxis.setTypeface(mTf);</span><br><span class="line">//        rightAxis.setLabelCount(5);</span><br><span class="line">//        rightAxis.setDrawGridLines(false);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private ArrayList&lt;String&gt; getXAxisShowLable() &#123;</span><br><span class="line">        ArrayList&lt;String&gt; m = new ArrayList&lt;String&gt;();</span><br><span class="line">        m.add(&quot;Jan&quot;);</span><br><span class="line">        m.add(&quot;Feb&quot;);</span><br><span class="line">        m.add(&quot;Mar&quot;);</span><br><span class="line">        m.add(&quot;Apr&quot;);</span><br><span class="line">        m.add(&quot;May&quot;);</span><br><span class="line">        m.add(&quot;Jun&quot;);</span><br><span class="line">        m.add(&quot;Jul&quot;);</span><br><span class="line">        m.add(&quot;Aug&quot;);</span><br><span class="line">        m.add(&quot;Sep&quot;);</span><br><span class="line">        m.add(&quot;Okt&quot;);</span><br><span class="line">        m.add(&quot;Nov&quot;);</span><br><span class="line">        m.add(&quot;Dec&quot;);</span><br><span class="line">        return m;</span><br><span class="line">    &#125;</span><br><span class="line">    /**</span><br><span class="line">     * 饼形图的划分</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    private ArrayList&lt;String&gt; getQuarters() &#123;</span><br><span class="line">        ArrayList&lt;String&gt; q = new ArrayList&lt;String&gt;();</span><br><span class="line">        q.add(&quot;1st Quarter&quot;);</span><br><span class="line">        q.add(&quot;2nd Quarter&quot;);</span><br><span class="line">        q.add(&quot;3rd Quarter&quot;);</span><br><span class="line">        q.add(&quot;4th Quarter&quot;);</span><br><span class="line">        return q;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://glanwang.com/2015/04/03/Android/MPChart绘图库的使用/" data-id="cjt71hatf0098zg22lls13ii9" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Mac/Mac下配置hosts" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/04/03/Mac/Mac下配置hosts/" class="article-date">
  <time datetime="2015-04-03T02:30:00.000Z" itemprop="datePublished">2015-04-03</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Mac/">Mac</a>
  </div>

  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="Mac-OS中对hosts文件进行又该的几个命令使用"><a href="#Mac-OS中对hosts文件进行又该的几个命令使用" class="headerlink" title="Mac OS中对hosts文件进行又该的几个命令使用"></a>Mac OS中对hosts文件进行又该的几个命令使用</h3><p>下面简单记录以下mac os下修改hosts的命令：<br>Mac OS下hosts文件所在的位置为/etc/hosts<br>1, 获取su权限,并修改hosts的权限。<br><code>sudo chmod 777 /etc/hosts</code><br>2, 使用vi 命令对hosts文件进行编辑<br><code>vi /etc/hosts</code></p>
<h3 id="Vi命令的简单使用"><a href="#Vi命令的简单使用" class="headerlink" title="Vi命令的简单使用"></a>Vi命令的简单使用</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">1. 在默认的&quot;指令模式&quot;下按 i 进入编辑模式 </span><br><span class="line">2. 在非指令模式下按 ESC 返回指令模式 </span><br><span class="line">3. 在&quot;指令模式&quot;下输入: </span><br><span class="line">:w 保存当前文件 </span><br><span class="line">:q 退出编辑,如果文件为保存需要用强制模式 </span><br><span class="line">:q! 强制退出不保存修改 </span><br><span class="line">:wq 组合指令, 保存并退出 </span><br><span class="line">在「命令行模式（command mode）」下按一下字母「i」就可以进入「插入模式（Insert mode）」，这时候你就可以开始输入文字了</span><br><span class="line">4. 在&quot;指令模式&quot;下移动: </span><br><span class="line">h 左 </span><br><span class="line">j 下 </span><br><span class="line">k 上 </span><br><span class="line">l 右</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://glanwang.com/2015/04/03/Mac/Mac下配置hosts/" data-id="cjt71haro007czg22008esejd" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Android/自定义控件相关类汇总(一)" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/04/02/Android/自定义控件相关类汇总(一)/" class="article-date">
  <time datetime="2015-04-02T06:50:00.000Z" itemprop="datePublished">2015-04-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/04/02/Android/自定义控件相关类汇总(一)/">自定义控件相关类汇总(一)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="本文主要是记录自定义控件时常用到的几个类和相关方法"><a href="#本文主要是记录自定义控件时常用到的几个类和相关方法" class="headerlink" title="本文主要是记录自定义控件时常用到的几个类和相关方法"></a>本文主要是记录自定义控件时常用到的几个类和相关方法</h3><h3 id="1-Paint类"><a href="#1-Paint类" class="headerlink" title="1,Paint类"></a>1,Paint类</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">private void init() &#123;</span><br><span class="line">    paint = new Paint();</span><br><span class="line">    paint.setAntiAlias(true);//反锯齿</span><br><span class="line">    paint.setColor(Color.RED);</span><br><span class="line">    /*</span><br><span class="line">     * 设置画笔样式为描边，圆环嘛……当然不能填充不然就么意思了</span><br><span class="line">     *</span><br><span class="line">     * 画笔样式分三种：</span><br><span class="line">     * 1.Paint.Style.STROKE：描边</span><br><span class="line">     * 2.Paint.Style.FILL_AND_STROKE：描边并填充</span><br><span class="line">     * 3.Paint.Style.FILL：填充</span><br><span class="line">     */</span><br><span class="line">    paint.setStyle(Paint.Style.FILL);</span><br><span class="line">    /*</span><br><span class="line">     * 设置描边的粗细，单位：像素px</span><br><span class="line">     * 注意：当setStrokeWidth(0)的时候描边宽度并不为0而是只占一个像素</span><br><span class="line">     */</span><br><span class="line">    paint.setStrokeWidth(paintStrokeWidth);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>Paint的其他方法：</code></p>
<ul>
<li><p>setStrokeCap(Paint.Cap cap)<br>方法，该方法用来设置我们画笔的笔触风格，上面的例子中我使用的是ROUND，表示是圆角的笔触，那么什么叫笔触呢，其实很简单，就像我们现实世界中的笔，如果你用圆珠笔在纸上戳一点，那么这个点一定是个圆，即便很小，它代表了笔的笔触形状，如果我们把一支铅笔笔尖削成方形的，那么画出来的线条会是一条弯曲的“矩形”，这就是笔触的意思。除了ROUND，Paint.Cap还提供了另外两种类型：SQUARE和BUTT</p>
</li>
<li><p>setStrokeJoin(Paint.Join join)<br>这个方法用于设置结合处的形态，就像上面的代码中我们虽说是花了一条心电线，但是这条线其实是由无数条小线拼接成的，拼接处的形状就由该方法指定。</p>
</li>
<li><p>setShadowLayer(float radius, float dx, float dy, int shadowColor)<br>该方法为我们绘制的图形添加一个阴影层效果：</p>
</li>
</ul>
<hr>
<p><code>TextPaint专门用户绘制文字的画笔</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">/* </span><br><span class="line"> * 初始化文字画笔 </span><br><span class="line"> */</span><br><span class="line">textPaint = new TextPaint(Paint.ANTI_ALIAS_FLAG | Paint.DITHER_FLAG | Paint.SUBPIXEL_TEXT_FLAG);</span><br><span class="line">textPaint.setColor(Color.WHITE);</span><br><span class="line">textPaint.setTextSize(30);</span><br><span class="line">textPaint.setTextAlign(Paint.Align.CENTER);</span><br></pre></td></tr></table></figure></p>
<h3 id="与画笔颜色相关的类"><a href="#与画笔颜色相关的类" class="headerlink" title="与画笔颜色相关的类"></a>与画笔颜色相关的类</h3><p>详情见博客：2，<a href="http://blog.csdn.net/aigestudio/article/details/41316141" target="_blank" rel="noopener">http://blog.csdn.net/aigestudio/article/details/41316141</a></p>
<blockquote>
<p>PorterDuffXfermode类，图形混合模式的意思</p>
</blockquote>
<h3 id="2-View类的invalidate-方法-和postInvalidate-方法"><a href="#2-View类的invalidate-方法-和postInvalidate-方法" class="headerlink" title="2,View类的invalidate()方法,和postInvalidate()方法"></a>2,View类的invalidate()方法,和postInvalidate()方法</h3><p>在Android中提供了一个叫invalidate()的方法来让我们重绘我们的View。poistInvalidate()方法和invaliadate方法相同，只是它可以在子线程中运行.<br><strong><em><code>nvalidate()方法只能在主线程中调用，而postInvalidate()方法可以在子线程中调用。</code></em></strong></p>
<h3 id="3，Shader类（着色器）"><a href="#3，Shader类（着色器）" class="headerlink" title="3，Shader类（着色器）"></a>3，Shader类（着色器）</h3><p><img src="/2015/04/02/Android/自定义控件相关类汇总(一)/自定义控件相关类汇总(一" alt>/15-23-34.jpg)<br>Shader类呢也是个灰常灰常简单的类，它有五个子类，像PathEffect一样每个子类都实现了一种Shader，Shader在三维软件中我们称之为着色器，<strong><em>其作用嘛就像它的名字一样是来给图像着色的或者更通俗的说法是上色！</em></strong>这么说该懂了吧！再不懂去厕所哭去！这五个Shader里最异类的是BitmapShader，因为只有它是允许我们载入一张图片来给图像着色，那我们还是先来看看这个怪胎吧BitmapShader只有一个含参的构造方法BitmapShader (Bitmap bitmap, Shader.TileMode tileX, Shader.TileMode tileY)</p>
<blockquote>
<p>BitmapShader (Bitmap bitmap, Shader.TileMode tileX, Shader.TileMode tileY)的第一个参数是位图这个很显然，而后两个参数则分别表示XY方向上的着色模式。<br><strong><em>Shader.TileMode里有三种模式：CLAMP、MIRROR和REPETA。MIRROR镜像效果，REPETA重复，CLAMP的意思就是边缘拉伸的意思</em></strong></p>
</blockquote>
<h3 id="4-Canvas-画布"><a href="#4-Canvas-画布" class="headerlink" title="4,Canvas 画布"></a>4,Canvas 画布</h3><blockquote>
<ul>
<li>canvas.save()；锁定画布</li>
<li>canvas.restore(); 释放画布，即将画布释放到之前锁定的位置。先调用sava()方法，才能调用restore()方法进行释放。</li>
<li>canvas.translate(x, y);平移画布，就相当于将画布的原点移到x,y的位置 ，即相当于坐标系移动了。</li>
</ul>
</blockquote>
<p><img src="/2015/04/02/Android/自定义控件相关类汇总(一)/自定义控件相关类汇总(一" alt>/15-24-19.jpg)</p>
<ul>
<li>canvas.rotate(degrees);旋转画布，将画布按照一定角度进行旋转，即相当于坐标系进行了旋转。<br><img src="/2015/04/02/Android/自定义控件相关类汇总(一)/自定义控件相关类汇总(一" alt>/15-24-36.jpg)<br><code>注意：画布的平移旋转同样也会影响画布的自身坐标</code><h3 id="5，Canvas类-画布"><a href="#5，Canvas类-画布" class="headerlink" title="5，Canvas类(画布)"></a>5，Canvas类(画布)</h3></li>
</ul>
<hr>
<p>Canvas所提供的各种方法根据功能来看大致可以分为几类，第一是以drawXXX为主的绘制方法，第二是以clipXXX为主的裁剪方法，第三是以scale、skew、translate和rotate组成的Canvas变换方法，最后一类则是以saveXXX和restoreXXX构成的画布锁定和还原。</p>
<blockquote>
<ul>
<li>drawBitmapMesh (Bitmap bitmap, int meshWidth, int meshHeight, float[] verts, int vertOffset, int[] colors, int colorOffset, Paint paint)<br>很吊毛的方法，但是计算复杂度很高，所有被沉默了。(一般不推荐使用，因为计算难度很大)<br>详细原理<a href="http://blog.csdn.net/aigestudio/article/details/41960507" target="_blank" rel="noopener">http://blog.csdn.net/aigestudio/article/details/41960507</a><br>drawBitmapMesh是个很屌毛的方法，为什么这样说呢？因为它可以对Bitmap做几乎任何改变，是的，你没听错，是任何，几乎无所不能，这个屌毛方法我曾一度怀疑谷歌那些逗比为何将它屈尊在Canvas下，因为它对Bitmap的处理实在在强大了。上一节我们在讲到Matrix的时候说过Matrix可以对我们的图像做多种变换，实际上drawBitmapMesh也可以，只不过需要一点计算，比如我们可以使用drawBitmapMesh来模拟错切skew的效果。</li>
<li>Canvas(Bitmap bitmap);含参数的构造。<br>可以实现在一张Bitmap的基础上进行绘制。- canvas.setBitmap(Bitmap bitmap); 作用同含参数的构造.<br>例如：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ivMain = (ImageView) findViewById(R.id.main_iv);</span><br><span class="line">Bitmap bitmap = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888);</span><br><span class="line">Canvas canvas = new Canvas(bitmap);</span><br><span class="line">canvas.drawColor(Color.RED);</span><br><span class="line">ivMain.setImageBitmap(bitmap);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<ul>
<li>canvas.translate()和rotate()方法：<br>此类方法是对画布进行平移旋转等操作。<code>其实可以理解为对坐标轴的旋转平移等操作。</code><br>-canvas.clipXXX()方法：对画布的一种剪切方式，剪切后只能在剪切的部分显示需要绘制的内容。<code>当前画布被“裁剪”了,只有剪裁的部分能够出现我们绘制的内容，如果我们所绘制的东西在该区域外部，即便绘制了你也看不到</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">clipPath(Path path, Region.Op op)</span><br><span class="line">clipRect(Rect rect, Region.Op op)</span><br><span class="line">clipRect(RectF rect, Region.Op op)</span><br><span class="line">clipRect(float left, float top, float right, float bottom, Region.Op op)</span><br><span class="line">clipRegion(Region region, Region.Op op)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>Canvas中有关裁剪的方法，你会发现有一大堆带有Region.Op参数的重载方法.要明白这些方法的Region.Op参数那么首先要了解Region为何物。Region的意思是“区域”，在Android里呢它同样表示的是一块封闭的区域。<br>详情请看 一下8中有关Region的简介<br>-canvas.drawPath(Path path, Paint paint)  绘制路径。<br>-canvas.drawTextOnPath (String text, Path path, float hOffset, float vOffset, Paint paint) ; 绘制文字在Path路径上。</p>
<h3 id="6-Rect和RectF类"><a href="#6-Rect和RectF类" class="headerlink" title="6 Rect和RectF类"></a>6 Rect和RectF类</h3><p><code>Rect和RectF是类似的，只不过RectF中涉及计算的时候数值类型均为float型，两者均表示一块规则矩形。</code>重要的方法：</p>
<blockquote>
<ul>
<li>intersect(RectF rectF) / intersect (float left, float top, float right, float bottom)  :此方法表示两个矩形相交的部分。取两个区域的相交区域作为最终区域。<code>intersect方法的计算方式是相当有趣的，它不是单纯地计算相交而是去计算相交区域最近的左上端点和最近的右下端点</code></li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">public class CanvasView extends View &#123;  </span><br><span class="line">    private Rect mRect;  </span><br><span class="line">  </span><br><span class="line">    public CanvasView(Context context, AttributeSet attrs) &#123;  </span><br><span class="line">        super(context, attrs);  </span><br><span class="line">        mRect = new Rect(0, 0, 500, 500);  </span><br><span class="line">  </span><br><span class="line">        mRect.intersect(250, 250, 750, 750);  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    @Override  </span><br><span class="line">    protected void onDraw(Canvas canvas) &#123;  </span><br><span class="line">        canvas.drawColor(Color.BLUE);  </span><br><span class="line">  </span><br><span class="line">        canvas.clipRect(mRect);  </span><br><span class="line">  </span><br><span class="line">        canvas.drawColor(Color.RED);  </span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p><img src="/2015/04/02/Android/自定义控件相关类汇总(一)/自定义控件相关类汇总(一" alt>/15-26-50.jpg)<br><code>注意：黄色线框为后期加上的辅助线非程序生成</code></p>
<blockquote>
<ul>
<li>union(RectF rect) / union(float left, float top, float right, float bottom) 方法：<code>union方法与intersect相反，取的是相交区域最远的左上端点作为新区域的左上端点，而取最远的右下端点作为新区域的右下端点</code></li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>mRect.union(250, 250, 750, 750); </li>
</ul>
</blockquote>
<p>运行后我们会看到如下结果：<br><img src="/2015/04/02/Android/自定义控件相关类汇总(一)/自定义控件相关类汇总(一" alt>/15-27-13.jpg)<br>是不是觉得不是我们想象中的那样单纯地两个区域相加。此方法是指的左上角的点和右下角的点的最远距离。</p>
<h3 id="7-Path-类"><a href="#7-Path-类" class="headerlink" title="7 Path 类"></a>7 Path 类</h3><p><code>此类表示一个路径</code></p>
<ul>
<li>lineTo(float x, float y): 将路径连接至某个点坐标。（不适用moveTo方法时默认起点坐标为原点）。<code>我们可以考虑多次调用lineTo方法来绘制更复杂的图形.</code></li>
<li>moveTo(float x, float y):将Path的起始点移动到某个特定的点。(Path默认起始点为原点)</li>
<li>close() 此方法含义师闭合曲线。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// 实例化路径  </span><br><span class="line">mPath = new Path();    </span><br><span class="line">// 移动点至[300,300]  </span><br><span class="line">mPath.moveTo(100, 100);    </span><br><span class="line">// 连接路径到点  </span><br><span class="line">mPath.lineTo(300, 100);  </span><br><span class="line">mPath.lineTo(400, 200);  </span><br><span class="line">mPath.lineTo(200, 200);    </span><br><span class="line">// 闭合曲线  </span><br><span class="line">mPath.close();</span><br></pre></td></tr></table></figure>
<p><img src="/2015/04/02/Android/自定义控件相关类汇总(一)/自定义控件相关类汇总(一" alt>/15-28-08.jpg)</p>
<ul>
<li>XXXTo()  贝塞尔曲线相关方法<code>这些方法帮助我们绘制各类直线、曲线</code><br>– quadTo(float x1, float y1, float x2, float y2)  绘制二阶贝塞尔曲线。 <code>quadTo的前两个参数为控制点的坐标，后两个参数为终点坐标, 当然起点坐标就是path的起点坐标</code><br>– cubicTo(float x1, float y1, float x2, float y2, float x3, float y3)  绘制三阶贝塞尔曲线。<code>与quadTo类似，前四个参数表示两个控制点，最后两个参数表示终点：</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 实例化路径  </span><br><span class="line">mPath = new Path();    </span><br><span class="line">// 移动点至[100,100]  </span><br><span class="line">mPath.moveTo(100, 100);    </span><br><span class="line">// 连接路径到点  </span><br><span class="line">mPath.cubicTo(200, 200, 300, 0, 400, 100);</span><br></pre></td></tr></table></figure>
<p><img src="/2015/04/02/Android/自定义控件相关类汇总(一)/自定义控件相关类汇总(一" alt>/15-28-37.jpg)</p>
<ul>
<li>arcTo (RectF oval, float startAngle, float sweepAngle)   用来生成弧线的方法。说白了就是从圆或者椭圆上截取一部分而已。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// 实例化路径  </span><br><span class="line">mPath = new Path();    </span><br><span class="line">// 移动点至[100,100]  </span><br><span class="line">mPath.moveTo(100, 100);    </span><br><span class="line">// 连接路径到点  </span><br><span class="line">RectF oval = new RectF(100, 100, 200, 200);  </span><br><span class="line">mPath.arcTo(oval, 0, 90);</span><br></pre></td></tr></table></figure>
<p><img src="/2015/04/02/Android/自定义控件相关类汇总(一)/自定义控件相关类汇总(一" alt>/15-29-02.jpg)<br>运行后效果跟我们想想的有点不一样，<code>这是因为使用Path生成的路径必定都是连贯的，虽然我们使用arcTo绘制的时一段狐，但是其最终都会与我们Path的起点链接起来。如果你不想要链接，那么path也提供了一种方法，而已设置是否强制链接起点。</code></p>
<ul>
<li><p>arcTo (RectF oval, float startAngle, float sweepAngle, boolean forceMoveTo)   该方法只是多了一个布尔值，值为true时将会把弧的起点作为Path的起点</p>
</li>
<li><p>Path中除了上面介绍的几个XXXTo方法外还有一套rXXXTo方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">rCubicTo(float x1, float y1, float x2, float y2, float x3, float y3)  </span><br><span class="line">rLineTo(float dx, float dy)  </span><br><span class="line">rMoveTo(float dx, float dy)  </span><br><span class="line">rQuadTo(float dx1, float dy1, float dx2, float dy2)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>这一系列rXXXTo方法其实跟上面的那些XXXTo差不多的，唯一的不同是rXXXTo方法的参考坐标是相对的而XXXTo方法的参考坐标始终是参照画布原点坐标。<code>相对的指的是，终点的坐标是相对于起点的坐标的，例如rMoveTo(100,100) ; rLineTo(200,200) ,表示这个线段的长度是200而不是100.</code></p>
<ul>
<li>addXXX()方法，Path的这一系列的add方法允许我们直接往Path中添加一些曲线。<br>比如：addArc(RectF oval, float startAngle, float sweepAngle) 方法允许我们将一段弧形添加至Path，注意这里我用到了“添加”这个词汇，也就是说，通过addXXX方法添加到Path中的曲线是不会和上一次的曲线进行连接的。<br>– 除了addArc(RectF oval, float startAngle, float sweepAngle)方法之外还有这一系列的add方法。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">addCircle(float x, float y, float radius, Path.Direction dir)  </span><br><span class="line">addOval(float left, float top, float right, float bottom, Path.Direction dir)  </span><br><span class="line">addRect(float left, float top, float right, float bottom, Path.Direction dir)  </span><br><span class="line">addRoundRect(float left, float top, float right, float bottom, float rx, float ry, Path.Direction dir)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><code>这些方法和addArc有很明显的区别，就是多了一个Path.Direction参数Path.Direction只有两个常量值CCW和CW分别表示逆时针方向闭合和顺时针方向闭合</code><br><figure class="highlight plain"><figcaption><span>Path.Direction.CW);  ```顺时针</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">![](自定义控件相关类汇总(一)/15-33-28.jpg)</span><br><span class="line"></span><br><span class="line">``` mPath.addOval(oval, Path.Direction.CCW);  ``` 逆时针</span><br><span class="line">![](自定义控件相关类汇总(一)/15-34-39.jpg)</span><br></pre></td></tr></table></figure></p>
<p>public class PathView extends View {<br>    private Path mPath;// 路径对象<br>    private Paint mPaint;// 路径画笔对象  </p>
<pre><code>public PathView(Context context, AttributeSet attrs) {  
    super(context, attrs);    
    /* 
     * 实例化画笔并设置属性 
     */  
    mPaint = new Paint(Paint.ANTI_ALIAS_FLAG | Paint.DITHER_FLAG);  
    mPaint.setStyle(Paint.Style.STROKE);  
    mPaint.setColor(Color.CYAN);  
    mPaint.setStrokeWidth(5);    
    // 实例化路径  
    mPath = new Path();    
    // 移动点至[100,100]  
    mPath.moveTo(100, 100);    
    // 连接路径到点  
    mPath.lineTo(200, 200);    
    // 添加一条弧线到Path中  
    RectF oval = new RectF(100, 100, 300, 400);  
    mPath.addArc(oval, 0, 90);  
}    
@Override  
protected void onDraw(Canvas canvas) {  
    // 绘制路径  
    canvas.drawPath(mPath, mPaint);  
}  
</code></pre><p>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">![](自定义控件相关类汇总(一)/15-29-55.jpg)</span><br><span class="line">###  8  Region</span><br><span class="line">回顾Canvas中有关裁剪的方法，你会发现有一大堆带有Region.Op参数的重载方法：</span><br><span class="line">`clipPath(Path path, Region.Op op)  </span><br><span class="line">clipRect(Rect rect, Region.Op op)  </span><br><span class="line">clipRect(RectF rect, Region.Op op)  </span><br><span class="line">clipRect(float left, float top, float right, float bottom, Region.Op op)  </span><br><span class="line">clipRegion(Region region, Region.Op op)  `</span><br><span class="line">要明白这些方法的Region.Op参数那么首先要了解Region为何物。Region的意思是“区域”，在Android里呢它同样表示的是一块封闭的区域，Region中的方法都非常的简单，我们重点来瞧瞧Region.Op，Op是Region的一个枚举类，里面呢有六个枚举常量：</span><br><span class="line">![](自定义控件相关类汇总(一)/15-30-13.jpg)</span><br><span class="line"></span><br><span class="line">那么Region.Op究竟有什么用呢？其实它就是个组合模式，我们曾学过一个叫图形混合模式的，而在本节开头我们也曾讲过Rect也有类似的组合方法，Region.Op灰常简单，如果你看过图形混合模式的话。这里我就给出一段测试代码，大家可以尝试去改变不同的组合模式看看效果</span><br></pre></td></tr></table></figure></p>
<p>public class CanvasView extends View {<br>    private Region mRegionA, mRegionB;// 区域A和区域B对象<br>    private Paint mPaint;// 绘制边框的Paint  </p>
<pre><code>public CanvasView(Context context, AttributeSet attrs) {  
    super(context, attrs);    
    // 实例化画笔并设置属性  
    mPaint = new Paint(Paint.ANTI_ALIAS_FLAG | Paint.DITHER_FLAG);  
    mPaint.setStyle(Paint.Style.STROKE);  
    mPaint.setColor(Color.WHITE);  
    mPaint.setStrokeWidth(2);    
    // 实例化区域A和区域B  
    mRegionA = new Region(100, 100, 300, 300);  
    mRegionB = new Region(200, 200, 400, 400);  
}    
@Override  
protected void onDraw(Canvas canvas) {  
    // 填充颜色  
    canvas.drawColor(Color.BLUE);    
    canvas.save();    
    // 裁剪区域A  
    canvas.clipRegion(mRegionA);    
    // 再通过组合方式裁剪区域B  
    canvas.clipRegion(mRegionB, Region.Op.DIFFERENCE);    
    // 填充颜色  
    canvas.drawColor(Color.RED);    
    canvas.restore();    
    // 绘制框框帮助我们观察  
    canvas.drawRect(100, 100, 300, 300, mPaint);  
    canvas.drawRect(200, 200, 400, 400, mPaint);  
}  
</code></pre><p>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">以下是各种组合模式的效果</span><br><span class="line">DIFFERENCE</span><br><span class="line">![](http://img.blog.csdn.net/20141216162450404?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYWlnZXN0dWRpbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)</span><br><span class="line">最终区域为第一个区域与第二个区域不同的区域。</span><br><span class="line">INTERSECT</span><br><span class="line">![](http://img.blog.csdn.net/20141216162521994?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYWlnZXN0dWRpbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)</span><br><span class="line">最终区域为第一个区域与第二个区域相交的区域。</span><br><span class="line">REPLACE</span><br><span class="line">![](http://img.blog.csdn.net/20141216162548498?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYWlnZXN0dWRpbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)</span><br><span class="line">最终区域为第二个区域。</span><br><span class="line">REVERSE_DIFFERENCE</span><br><span class="line">![](http://img.blog.csdn.net/20141216162616531?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYWlnZXN0dWRpbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)</span><br><span class="line">最终区域为第二个区域与第一个区域不同的区域。</span><br><span class="line">UNION</span><br><span class="line">![](http://img.blog.csdn.net/20141216162620343?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYWlnZXN0dWRpbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)</span><br><span class="line">最终区域为第一个区域加第二个区域。</span><br><span class="line">XOR</span><br><span class="line">![](http://img.blog.csdn.net/20141216162642968?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYWlnZXN0dWRpbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)</span><br><span class="line">最终区域为第一个区域加第二个区域并减去两者相交的区域。</span><br><span class="line">Region.Op就是这样，它和我们之前讲到的图形混合模式几乎一模一样换汤不换药……我在做示例的时候仅仅是使用了一个Region，实际上Rect、Cricle、Ovel等封闭的曲线都可以使用Region.Op，介于篇幅，而且也不难以理解就不多说了。</span><br><span class="line">`有些童鞋会问那么Region和Rect有什么区别呢？`</span><br><span class="line">`首先最重要的一点，Region表示的是一个区域，而Rect表示的是一个矩形，这是最根本的区别之一，其次，Region有个很特别的地方是它不受Canvas的变换影响，Canvas的local不会直接影响到Region自身，`</span><br><span class="line">什么意思呢？我们来看一个simple你就会明白：</span><br></pre></td></tr></table></figure></p>
<p>public class CanvasView extends View {<br>    private Region mRegion;// 区域对象<br>    private Rect mRect;// 矩形对象<br>    private Paint mPaint;// 绘制边框的Paint  </p>
<pre><code>public CanvasView(Context context, AttributeSet attrs) {  
    super(context, attrs);  

    // 实例化画笔并设置属性  
    mPaint = new Paint(Paint.ANTI_ALIAS_FLAG | Paint.DITHER_FLAG);  
    mPaint.setStyle(Paint.Style.STROKE);  
    mPaint.setColor(Color.DKGRAY);  
    mPaint.setStrokeWidth(2);  

    // 实例化矩形对象  
    mRect = new Rect(0, 0, 200, 200);  

    // 实例化区域对象  
    mRegion = new Region(200, 200, 400, 400);  
}  

@Override  
protected void onDraw(Canvas canvas) {  
    canvas.save();  

    // 裁剪矩形  
    canvas.clipRect(mRect);  
    canvas.drawColor(Color.RED);  

    canvas.restore();  

    canvas.save();  

    // 裁剪区域  
    canvas.clipRegion(mRegion);  
    canvas.drawColor(Color.RED);  

    canvas.restore();  

    // 为画布绘制一个边框便于观察  
    canvas.drawRect(0, 0, canvas.getWidth(), canvas.getHeight(), mPaint);  
}  
</code></pre><p>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">大家看到，我在[0, 0, 200, 200]和[200, 200, 400, 400]的位置分别绘制了Rect和Region，它们两个所占大小是一样的：</span><br><span class="line">![](http://img.blog.csdn.net/20141216162814452?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYWlnZXN0dWRpbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)</span><br><span class="line">画布因为和屏幕一样大，so~~我们看不出描边的效果，这时，我们将Canvas缩放至75%大小，看看会发生什么：</span><br></pre></td></tr></table></figure></p>
<p>@Override<br>protected void onDraw(Canvas canvas) {<br>    // 缩放画布<br>    canvas.scale(0.75F, 0.75F);  </p>
<pre><code>canvas.save();  

// 裁剪矩形  
canvas.clipRect(mRect);  
canvas.drawColor(Color.RED);  

canvas.restore();  

canvas.save();  

// 裁剪区域  
canvas.clipRegion(mRegion);  
canvas.drawColor(Color.RED);  

canvas.restore();  

// 为画布绘制一个边框便于观察  
canvas.drawRect(0, 0, canvas.getWidth(), canvas.getHeight(), mPaint);  
</code></pre><p>}<br><code>`</code><br>这时我们会看到，Rect随着Canvas的缩放一起缩放了，但是Region依旧泰山不动地淡定：<br><img src="http://img.blog.csdn.net/20141216162838281?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYWlnZXN0dWRpbw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt></p>
<p><code>本文参考了以下blog</code><br>1，<a href="http://blog.csdn.net/aigestudio/article/details/41212583" target="_blank" rel="noopener">http://blog.csdn.net/aigestudio/article/details/41212583</a><br>2，<a href="http://blog.csdn.net/aigestudio/article/details/41316141" target="_blank" rel="noopener">http://blog.csdn.net/aigestudio/article/details/41316141</a><br>3，<a href="http://blog.csdn.net/aigestudio/article/details/41447349" target="_blank" rel="noopener">http://blog.csdn.net/aigestudio/article/details/41447349</a><br>4，<a href="http://blog.csdn.net/aigestudio/article/details/41960507" target="_blank" rel="noopener">http://blog.csdn.net/aigestudio/article/details/41960507</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://glanwang.com/2015/04/02/Android/自定义控件相关类汇总(一)/" data-id="cjt71hb02009lzg22inib789c" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/12/">&laquo; 上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><a class="page-number" href="/page/12/">12</a><span class="page-number current">13</span>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Gradle/">Gradle</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mac/">Mac</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Other/">Other</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AOP/">AOP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android8-0适配/">Android8.0适配</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AspectJ-android/">AspectJ, android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Gradle/">Gradle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IDEA导出可执行jar/">IDEA导出可执行jar</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Too-many-classes-in-main-dex-list，-main-dex-capacity-exceeded/">Too many classes in --main-dex-list， main dex capacity exceeded</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/apktools/">apktools</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/design-appBarLayout/">design, appBarLayout</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git-clean/">git clean</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git迁移/">git迁移</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/glide-图片无法加载-获取缓存图片/">glide, 图片无法加载, 获取缓存图片</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/glide源码解读/">glide源码解读</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gradle-守护进程，org-gradle-daemon/">gradle 守护进程，org.gradle.daemon</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gradle教程/">gradle教程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gradle，屏蔽，task/">gradle，屏蔽，task</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/greenDao-数据库/">greenDao, 数据库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/https-httpDNS/">https, httpDNS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/memory-monitors-android-studio/">memory monitors, android studio</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/okhttp-header/">okhttp, header</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/proguard/">proguard</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shell/">shell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shell字符串/">shell字符串</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sqltie-GreenDao/">sqltie, GreenDao</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/transform-API-gradle/">transform API, gradle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/transient/">transient</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vim/">vim</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/widget-android-8-0/">widget, android 8.0</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/事件传递/">事件传递</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/堆，栈/">堆，栈</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/嵌套滚动-NestedScrolling/">嵌套滚动, NestedScrolling</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/嵌套滚动-viewpager/">嵌套滚动, viewpager</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/正则表达式，shell/">正则表达式，shell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/热更新-热补丁/">热更新, 热补丁</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/瘦身/">瘦身</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/设计模式/">设计模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/请求追踪/">请求追踪</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/AOP/" style="font-size: 10px;">AOP</a> <a href="/tags/Android8-0适配/" style="font-size: 10px;">Android8.0适配</a> <a href="/tags/AspectJ-android/" style="font-size: 10px;">AspectJ, android</a> <a href="/tags/Gradle/" style="font-size: 10px;">Gradle</a> <a href="/tags/IDEA导出可执行jar/" style="font-size: 10px;">IDEA导出可执行jar</a> <a href="/tags/Too-many-classes-in-main-dex-list，-main-dex-capacity-exceeded/" style="font-size: 10px;">Too many classes in --main-dex-list， main dex capacity exceeded</a> <a href="/tags/apktools/" style="font-size: 10px;">apktools</a> <a href="/tags/design-appBarLayout/" style="font-size: 10px;">design, appBarLayout</a> <a href="/tags/git/" style="font-size: 20px;">git</a> <a href="/tags/git-clean/" style="font-size: 10px;">git clean</a> <a href="/tags/git迁移/" style="font-size: 10px;">git迁移</a> <a href="/tags/glide-图片无法加载-获取缓存图片/" style="font-size: 10px;">glide, 图片无法加载, 获取缓存图片</a> <a href="/tags/glide源码解读/" style="font-size: 10px;">glide源码解读</a> <a href="/tags/gradle-守护进程，org-gradle-daemon/" style="font-size: 10px;">gradle 守护进程，org.gradle.daemon</a> <a href="/tags/gradle教程/" style="font-size: 10px;">gradle教程</a> <a href="/tags/gradle，屏蔽，task/" style="font-size: 10px;">gradle，屏蔽，task</a> <a href="/tags/greenDao-数据库/" style="font-size: 10px;">greenDao, 数据库</a> <a href="/tags/https-httpDNS/" style="font-size: 10px;">https, httpDNS</a> <a href="/tags/memory-monitors-android-studio/" style="font-size: 10px;">memory monitors, android studio</a> <a href="/tags/okhttp-header/" style="font-size: 10px;">okhttp, header</a> <a href="/tags/proguard/" style="font-size: 10px;">proguard</a> <a href="/tags/shell/" style="font-size: 10px;">shell</a> <a href="/tags/shell字符串/" style="font-size: 10px;">shell字符串</a> <a href="/tags/sqltie-GreenDao/" style="font-size: 10px;">sqltie, GreenDao</a> <a href="/tags/transform-API-gradle/" style="font-size: 10px;">transform API, gradle</a> <a href="/tags/transient/" style="font-size: 10px;">transient</a> <a href="/tags/vim/" style="font-size: 10px;">vim</a> <a href="/tags/widget-android-8-0/" style="font-size: 10px;">widget, android 8.0</a> <a href="/tags/事件传递/" style="font-size: 10px;">事件传递</a> <a href="/tags/堆，栈/" style="font-size: 10px;">堆，栈</a> <a href="/tags/嵌套滚动-NestedScrolling/" style="font-size: 10px;">嵌套滚动, NestedScrolling</a> <a href="/tags/嵌套滚动-viewpager/" style="font-size: 10px;">嵌套滚动, viewpager</a> <a href="/tags/正则表达式，shell/" style="font-size: 10px;">正则表达式，shell</a> <a href="/tags/热更新-热补丁/" style="font-size: 10px;">热更新, 热补丁</a> <a href="/tags/瘦身/" style="font-size: 10px;">瘦身</a> <a href="/tags/设计模式/" style="font-size: 10px;">设计模式</a> <a href="/tags/请求追踪/" style="font-size: 15px;">请求追踪</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">三月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">七月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">六月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">五月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">七月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">六月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">一月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">十二月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">十一月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">九月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">七月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">六月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">五月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">四月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">三月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">二月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">一月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">十二月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">十一月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">十月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">九月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">八月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">七月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">六月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">五月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">四月 2015</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/03/04/Test/">Test</a>
          </li>
        
          <li>
            <a href="/2018/10/12/Android/桌面Widget适配android8-0/">桌面Widget适配android8.0</a>
          </li>
        
          <li>
            <a href="/2018/08/24/Mac/Mac下提升效率的常用命令/">Mac提升效率的常用命令</a>
          </li>
        
          <li>
            <a href="/2018/07/09/Other/git-clean使用/">git-clean使用</a>
          </li>
        
          <li>
            <a href="/2018/07/04/Android/网易新闻全链路状态追踪解决方案/">网易新闻全链路状态追踪解决方案</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 GlanWang<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>